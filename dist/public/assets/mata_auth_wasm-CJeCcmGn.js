let i;const g=new Array(128).fill(void 0);g.push(void 0,null,!0,!1);function _(t){return g[t]}let k=g.length;function c(t){k===g.length&&g.push(g.length+1);const e=k;return k=g[e],g[e]=t,e}function m(t,e){try{return t.apply(this,e)}catch(n){i.__wbindgen_exn_store(c(n))}}const R=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&R.decode();let h=null;function I(){return(h===null||h.byteLength===0)&&(h=new Uint8Array(i.memory.buffer)),h}function A(t,e){return t=t>>>0,R.decode(I().subarray(t,t+e))}function M(t){t<132||(g[t]=k,k=t)}function y(t){const e=_(t);return M(t),e}function v(t){return t==null}function z(){i.wasm_main()}let l=null;function f(){return(l===null||l.buffer.detached===!0||l.buffer.detached===void 0&&l.buffer!==i.memory.buffer)&&(l=new DataView(i.memory.buffer)),l}function S(t,e){return t=t>>>0,I().subarray(t/1,t/1+e)}function K(){try{const r=i.__wbindgen_add_to_stack_pointer(-16);i.generate_keypair(r);var t=f().getInt32(r+4*0,!0),e=f().getInt32(r+4*1,!0),n=f().getInt32(r+4*2,!0);if(n)throw y(e);return W.__wrap(t)}finally{i.__wbindgen_add_to_stack_pointer(16)}}let p=0;const j=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},U=typeof j.encodeInto=="function"?function(t,e){return j.encodeInto(t,e)}:function(t,e){const n=j.encode(t);return e.set(n),{read:t.length,written:n.length}};function O(t,e,n){if(n===void 0){const a=j.encode(t),u=e(a.length,1)>>>0;return I().subarray(u,u+a.length).set(a),p=a.length,u}let r=t.length,o=e(r,1)>>>0;const b=I();let s=0;for(;s<r;s++){const a=t.charCodeAt(s);if(a>127)break;b[o+s]=a}if(s!==r){s!==0&&(t=t.slice(s)),o=n(o,r,r=s+t.length*3,1)>>>0;const a=I().subarray(o+s,o+r),u=U(t,a);s+=u.written,o=n(o,r,s,1)>>>0}return p=s,o}function q(t,e){try{const a=i.__wbindgen_add_to_stack_pointer(-16),u=O(t,i.__wbindgen_malloc,i.__wbindgen_realloc),w=p;var n=v(e)?0:O(e,i.__wbindgen_malloc,i.__wbindgen_realloc),r=p;i.derive_key(a,u,w,n,r);var o=f().getInt32(a+4*0,!0),b=f().getInt32(a+4*1,!0),s=f().getInt32(a+4*2,!0);if(s)throw y(b);return y(o)}finally{i.__wbindgen_add_to_stack_pointer(16)}}function D(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`)}function B(t,e){let n,r;try{const d=i.__wbindgen_add_to_stack_pointer(-16);D(t,W);const T=O(e,i.__wbindgen_malloc,i.__wbindgen_realloc),L=p;i.encrypt_private_key(d,t.__wbg_ptr,T,L);var o=f().getInt32(d+4*0,!0),b=f().getInt32(d+4*1,!0),s=f().getInt32(d+4*2,!0),a=f().getInt32(d+4*3,!0),u=o,w=b;if(a)throw u=0,w=0,y(s);return n=u,r=w,A(u,w)}finally{i.__wbindgen_add_to_stack_pointer(16),i.__wbindgen_free(n,r,1)}}function N(t,e){try{const a=i.__wbindgen_add_to_stack_pointer(-16),u=O(t,i.__wbindgen_malloc,i.__wbindgen_realloc),w=p,d=O(e,i.__wbindgen_malloc,i.__wbindgen_realloc),T=p;i.decrypt_private_key(a,u,w,d,T);var n=f().getInt32(a+4*0,!0),r=f().getInt32(a+4*1,!0),o=f().getInt32(a+4*2,!0),b=f().getInt32(a+4*3,!0);if(b)throw y(o);var s=S(n,r).slice();return i.__wbindgen_free(n,r*1,1),s}finally{i.__wbindgen_add_to_stack_pointer(16)}}const E=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>i.__wbg_keypair_free(t>>>0,1));class W{static __wrap(e){e=e>>>0;const n=Object.create(W.prototype);return n.__wbg_ptr=e,E.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,E.unregister(this),e}free(){const e=this.__destroy_into_raw();i.__wbg_keypair_free(e,0)}get publicKey(){let e,n;try{const b=i.__wbindgen_add_to_stack_pointer(-16);i.keypair_publicKey(b,this.__wbg_ptr);var r=f().getInt32(b+4*0,!0),o=f().getInt32(b+4*1,!0);return e=r,n=o,A(r,o)}finally{i.__wbindgen_add_to_stack_pointer(16),i.__wbindgen_free(e,n,1)}}get privateKey(){try{const o=i.__wbindgen_add_to_stack_pointer(-16);i.keypair_privateKey(o,this.__wbg_ptr);var e=f().getInt32(o+4*0,!0),n=f().getInt32(o+4*1,!0),r=S(e,n).slice();return i.__wbindgen_free(e,n*1,1),r}finally{i.__wbindgen_add_to_stack_pointer(16)}}}async function C(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function x(){const t={};return t.wbg={},t.wbg.__wbg_buffer_609cc3eee51ed158=function(e){const n=_(e).buffer;return c(n)},t.wbg.__wbg_call_672a4d21634d4a24=function(){return m(function(e,n){const r=_(e).call(_(n));return c(r)},arguments)},t.wbg.__wbg_call_7cccdd69e0791ae2=function(){return m(function(e,n,r){const o=_(e).call(_(n),_(r));return c(o)},arguments)},t.wbg.__wbg_crypto_ed58b8e10a292839=function(e){const n=_(e).crypto;return c(n)},t.wbg.__wbg_getRandomValues_bcb4912f16000dc4=function(){return m(function(e,n){_(e).getRandomValues(_(n))},arguments)},t.wbg.__wbg_log_c222819a41e063d3=function(e){console.log(_(e))},t.wbg.__wbg_msCrypto_0a36e2ec3a343d26=function(e){const n=_(e).msCrypto;return c(n)},t.wbg.__wbg_new_405e22f390576ce2=function(){const e=new Object;return c(e)},t.wbg.__wbg_new_a12002a7f91c75be=function(e){const n=new Uint8Array(_(e));return c(n)},t.wbg.__wbg_newnoargs_105ed471475aaf50=function(e,n){const r=new Function(A(e,n));return c(r)},t.wbg.__wbg_newwithbyteoffsetandlength_d97e637ebe145a9a=function(e,n,r){const o=new Uint8Array(_(e),n>>>0,r>>>0);return c(o)},t.wbg.__wbg_newwithlength_a381634e90c276d4=function(e){const n=new Uint8Array(e>>>0);return c(n)},t.wbg.__wbg_node_02999533c4ea02e3=function(e){const n=_(e).node;return c(n)},t.wbg.__wbg_process_5c1d670bc53614b8=function(e){const n=_(e).process;return c(n)},t.wbg.__wbg_randomFillSync_ab2cfe79ebbf2740=function(){return m(function(e,n){_(e).randomFillSync(y(n))},arguments)},t.wbg.__wbg_require_79b1e9274cde3c87=function(){return m(function(){const e=module.require;return c(e)},arguments)},t.wbg.__wbg_set_65595bdd868b3009=function(e,n,r){_(e).set(_(n),r>>>0)},t.wbg.__wbg_set_bb8cecf6a62b9f46=function(){return m(function(e,n,r){return Reflect.set(_(e),_(n),_(r))},arguments)},t.wbg.__wbg_static_accessor_GLOBAL_88a902d13a557d07=function(){const e=typeof global>"u"?null:global;return v(e)?0:c(e)},t.wbg.__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0=function(){const e=typeof globalThis>"u"?null:globalThis;return v(e)?0:c(e)},t.wbg.__wbg_static_accessor_SELF_37c5d418e4bf5819=function(){const e=typeof self>"u"?null:self;return v(e)?0:c(e)},t.wbg.__wbg_static_accessor_WINDOW_5de37043a91a9c40=function(){const e=typeof window>"u"?null:window;return v(e)?0:c(e)},t.wbg.__wbg_subarray_aa9065fa9dc5df96=function(e,n,r){const o=_(e).subarray(n>>>0,r>>>0);return c(o)},t.wbg.__wbg_versions_c71aa1626a93e0a1=function(e){const n=_(e).versions;return c(n)},t.wbg.__wbindgen_is_function=function(e){return typeof _(e)=="function"},t.wbg.__wbindgen_is_object=function(e){const n=_(e);return typeof n=="object"&&n!==null},t.wbg.__wbindgen_is_string=function(e){return typeof _(e)=="string"},t.wbg.__wbindgen_is_undefined=function(e){return _(e)===void 0},t.wbg.__wbindgen_memory=function(){const e=i.memory;return c(e)},t.wbg.__wbindgen_object_clone_ref=function(e){const n=_(e);return c(n)},t.wbg.__wbindgen_object_drop_ref=function(e){y(e)},t.wbg.__wbindgen_string_new=function(e,n){const r=A(e,n);return c(r)},t.wbg.__wbindgen_throw=function(e,n){throw new Error(A(e,n))},t}function F(t,e){return i=t.exports,V.__wbindgen_wasm_module=e,l=null,h=null,i.__wbindgen_start(),i}function P(t){if(i!==void 0)return i;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module:t}=t:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const e=x();t instanceof WebAssembly.Module||(t=new WebAssembly.Module(t));const n=new WebAssembly.Instance(t,e);return F(n,t)}async function V(t){if(i!==void 0)return i;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL("/assets/mata_auth_wasm_bg-C-exnyhZ.wasm",import.meta.url));const e=x();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await C(await t,e);return F(n,r)}export{W as KeyPair,N as decrypt_private_key,V as default,q as derive_key,B as encrypt_private_key,K as generate_keypair,P as initSync,z as wasm_main};
